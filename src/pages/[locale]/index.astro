---
import { datocms } from "@lib";
import query from "./index.query.graphql";
import { Default } from "@layouts";
import { Icon, Rive } from "@components";
import type { HomeRecord } from "@lib/types/datocms";

export async function getStaticPaths() {
  return [{ params: { locale: "nl" } }, { params: { locale: "en" } }];
}

const { locale } = Astro.params;

const { page } = (await datocms.request(query, { locale })) as {
  page: HomeRecord;
};
---

<Default>
  <section>
    <h1>{page.title}</h1>
    
    <small>{page.title}</small>
  
    <p>This is my playground</p>
  
    <Icon name="codepen" />
    <Icon name="discord" />
    <Icon name="github" />
    <Icon name="home" />
    <Icon name="instagram" />
    <Icon name="linkedin" />
    <Icon name="magnifying-glass" />
    <Icon name="mastodon" />
    <Icon name="x" />

    <Rive src="/rive/Vehicles.riv" name="vehicle" fit="Cover" stateMachines="bumpy" autoplay={true} />
    <Rive src="/rive/Vehicles.riv" name="vehicle" fit="Cover" stateMachines="bumpy" autoplay={true} />
    <Rive src="/rive/Vehicles.riv" name="vehicle" fit="Cover" stateMachines="bumpy" autoplay={true} />
  </section>

</Default>

<style>
  h2 {
    grid-column: full;
  }
</style>