---
import { datocms } from "@lib";
import query from "./index.query.graphql";
import { Default } from "@layouts";
import { Icon, Rive } from "@components";
import type { HomeRecord } from "@lib/types/datocms";
import riveThingUrl from "@assets/rive/vehicle.riv?url";

export async function getStaticPaths() {
  return [{ params: { locale: "nl" } }, { params: { locale: "en" } }];
}

const { locale } = Astro.params;

const { page } = (await datocms.request(query, { locale })) as {
  page: HomeRecord;
};
---

<Default>
  <section class="subgrid">
    <h1>{page.title}</h1>

    <small>{page.title}</small>

    <p class="text">This is my playground</p>
    <p class="text">
      Lorem ipsum, dolor sit amet consectetur adipisicing elit. Assumenda
      deserunt quis porro voluptate quos dicta adipisci eaque incidunt quo sint.
      Sit consequatur corrupti ad voluptatum vel voluptatem laborum vero
      tempore!
    </p>

    <div class="text">
      <Icon name="discord" />
      <Icon name="codepen" />
      <Icon name="github" />
      <Icon name="home" />
      <Icon name="instagram" />
      <Icon name="linkedin" />
      <Icon name="magnifying-glass" />
      <Icon name="mastodon" />
      <Icon name="x" />
    </div>

    <Rive
      src="/rive/vehicle.riv"
      name="vehicle"
      fit="Cover"
      stateMachines="bumpy"
      autoplay={true}
    />
  </section>
</Default>
