#import '@blocks/Hero/Hero.fragment.graphql'
#import '@blocks/Section/Section.fragment.graphql'
#import '@blocks/Text/Text.fragment.graphql'
#import '@blocks/Title/Title.fragment.graphql'

query PageQuery($locale: SiteLocale, $slug: String) {
  site: _site(locale: $locale) {
    faviconMetaTags(variants: [icon, appleTouchIcon, msApplication]) {
      attributes
      content
      tag
    }
  }
  app(locale: $locale) {
    nav {
      icon
      link {
        __typename
        ... on PageRecord {
          _allSlugLocales {
            locale
            value
          }
          parentPage {
            _allSlugLocales {
              locale
              value
            }
          }
        }
      }
      title
    }
  }
  page(locale: $locale, filter: { slug: { eq: $slug } }) {
    _allSlugLocales {
      locale
      value
    }
    _seoMetaTags {
      attributes
      content
      tag
    }
    parentPage {
      _allSlugLocales {
        locale
        value
      }
    }
    header {
      __typename
      ... on HeroRecord {
        ...Hero
      }
      ... on TitleRecord {
        ...Title
      }
    }
    body {
      __typename
      ... on SectionRecord {
        ...Section
      }
      ... on TextRecord {
        ...Text
      }
      ... on TitleRecord {
        ...Title
      }
    }
    title
  }
}
